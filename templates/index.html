
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="static/img/favicon.ico">
    <title>coins.media.mit.edu</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!-- Custom styles for this template -->
    <link href="/static/css/style.css" rel="stylesheet">
    <link href="/static/css/index.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

  <div class="container">
      <div class="row">
        <div class="col-md-2 col-sm-2 col-xs-4">
          <a href="http://media.mit.edu">
            <img src="/static/img/mllogo.png" class="img-responsive" alt="MIT Media Lab"/>
          </a>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 col-sm-8 col-xs-12">
          <h3 class="heading font-bold">Media Lab<br>Coins</h3>
          <p class="description font-light">
              A project by the <a href="http://learn.media.mit.edu" target="_blank">Media Lab Learning Initiative</a> that critically explores notions of social capital and reputation, empathy and gift economies, and social behavior. Digital coins are registered on the blockchain, cryptographically signed, and tamper proof.
          </p>

          <h3 class="heading font-bold">Collect Your Coin</h3>
          {% from "_formhelpers.html" import render_errors %}
          <form method="POST">
            <div class="input-group input-group-lg">
              {{ form.name(type='text',placeholder='Enter your name',**{'class':'form-control typeahead'})}}
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
            {{ render_errors(form.name) }}
            <div>
            {% with messages = get_flashed_messages() %}
              {% if messages %}
                <span class="popup-msg font-light">
                {% for message in messages %}
                  {{ message }}
                {% endfor %}
                </span>
              {% endif %}
            {% endwith %}
            </div>
          </form>
          
          <h3 class="heading font-bold">Recently Issued</h3>
          <p class="font-light hash long-word"><a href="">Recent Hash</a></p>
          <p class="font-light hash long-word"><a href="">Recent Hash</a></p>
          <p class="font-light hash long-word"><a href="">Recent Hash</a></p>
                             
        </div>
      </div>
      <div class="row" id="footer-info">
        <div class="col-md-6 col-sm-8 col-xs-12">
          <h6 id="footer-start">Contact: <span class="font-light"><a href="mailto:coins@media.mit.edu">coins@media.mit.edu</a></span></h6>
            <h6><span class="no-wrap">Media Lab </span><span class="no-wrap">Learning Initiative</span></h6>
            <h6><span class="font-light"><a href="https://github.com/ml-learning/coins.media.mit.edu">Source code on Github</a></h6>
        </div>
      </div>

    </div>

    <input id="static-names" type="hidden" value='{{names}}'></input>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="/static/js/typeahead/typeahead.jquery.min.js"></script>
    <script>
      var id_mappings = JSON.parse($("#static-names").val());
      var substringMatcher = function(strs) {
        return function findMatches(q, cb) {
          var matches, substringRegex;

          // an array that will be populated with substring matches
          matches = [];

          // regex used to determine if a string contains the substring `q`
          substrRegex = new RegExp(q, 'i');

          // iterate through the pool of strings and for any string that
          // contains the substring `q`, add it to the `matches` array
          $.each(strs, function(i, str) {
            if (substrRegex.test(str)) {
              matches.push(str);
            }
          });

          cb(matches);
        };
      };
      var names = Object.keys(id_mappings);

      $('.typeahead').typeahead({
        hint: true,
        highlight: true,
        minLength: 1,
      },
      {
        name: 'names',
        source: substringMatcher(names),
        templates: {
        empty: [
            '<div class="empty-message">Oops! No match found.</div>'
          ]
      }
      });
    </script>
    
  </body>
</html>